/* Shimmer animation for cards and buttons */
@keyframes shimmer {
  0% { background-position: -400px 0; }
  100% { background-position: 400px 0; }
}

.pt-card, .pt-card-open {
  position: relative;
  overflow: hidden;
}

.pt-card::after, .pt-card-open::after {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.18) 50%, rgba(255,255,255,0) 100%);
  z-index: 2;
  pointer-events: none;
  animation: shimmer 2.5s infinite linear;
  opacity: 0.7;
}
/* Uniform tool pill sizing and grid for toolshed */
.pt-tools-chips {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}
.pt-tool-pill, .pt-add-link-row-btn {
  min-width: 0;
  width: 100%;
  justify-content: center;
  text-align: center;
  min-height: 40px;
  max-width: 100%;
}
.pt-tool-pill:empty {
  background: transparent;
  border: none;
  box-shadow: none;
  pointer-events: none;
}
/* Bakelite-inspired divider */
.pt-bakelite-divider {
  height: 10px;
  background: repeating-linear-gradient(90deg, #2a2a2a 0 10px, #b39a5f 10px 20px);
  border-radius: 6px;
  margin: 1.2rem 0 1.2rem 0;
  box-shadow: 0 2px 8px rgba(44,32,16,0.12);
}
/* Drag placeholder for tool rows */
.pt-tools-row-placeholder {
  border-radius: 2px;
  transition: background 0.2s;
}
.pt-tools-row.dragging {
  opacity: 0.5;
}
/* Sticky footer layout for .wl-sticky-shell */
/* Sticky footer layout for .wl-sticky-shell */
.wl-sticky-shell {
  min-height: 100vh;
  display: grid;
  grid-template-rows: 1fr auto;
  background: var(--bg);
}
:root{
  --navy:#1e3446;
  --deepsea:#0f2b33;
  --seagreen:#355f56;
  --bottle:#1f3b2d;
  --parchment:#f3efe4;

  --ink:#1c1f22;
  --ink-soft:#4a4f54;

  --brass:#b39a5f;
  --rule:#c8c3b8;

  --bg:var(--parchment);
  --panel-bg:#ffffff;

  --btn-bg:#ffffff;
  --btn-ink:#1c1f22;
}

/* ======================================================
   BASE
====================================================== */

html, body { height:100%; }

body{
  margin:0;
  font-family:'Source Sans 3',system-ui,sans-serif;
  background:var(--bg);
  color:var(--ink);
}

/* ======================================================
   THEME MODES (keep text readable)
====================================================== */

body[data-theme="atlantic"]{
  --bg:#e9eef1;
  --panel-bg:#ffffff;
  --ink:#1c1f22;
  --ink-soft:#4a4f54;
}

body[data-theme="deepsea"]{
  --bg:var(--deepsea);
  --panel-bg:rgba(255,255,255,0.98);
  --ink:#1c1f22;
  --ink-soft:#2e3338;
}

body[data-theme="seagreen"]{
  --bg:var(--seagreen);
  --panel-bg:rgba(255,255,255,0.98);
  --ink:#1c1f22;
  --ink-soft:#2e3338;
}

body[data-theme="bottle"]{
  --bg:var(--bottle);
  --panel-bg:rgba(255,255,255,0.98);
  --ink:#1c1f22;
  --ink-soft:#2e3338;
}

body[data-theme="parchment"]{
  --bg:var(--parchment);
  --panel-bg:#ffffff;
  --ink:#2a2a2a;
  --ink-soft:#4a4f54;
}

/* ======================================================
   HEADER (console + index share this)
====================================================== */

.pt-shell{ width:100%; margin:0; }

.pt-shell-header{
  padding:1rem 1.25rem;
  border-bottom:3px solid var(--brass);
  background:var(--panel-bg);
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:1rem;
  border-radius:0 0 18px 18px;
  width:100%;
  margin:0 auto;
}

.pt-shell-title{
  font-family:'Libre Baskerville',serif;
  margin:0;
  color:var(--ink);
}

.pt-shell-subtitle{
  margin:0.25rem 0 0;
  color:var(--ink-soft);
}

.pt-shell-status{
  display:flex;
  gap:0.5rem;
  align-items:center;
  flex-wrap:wrap;
}

.pt-status-pill{
  font-size:0.9rem;
  padding:0.35rem 0.6rem;
  border:1px solid var(--rule);
  border-radius:999px;
  background:#ffffff;
  color:var(--ink);
}

/* ======================================================
   INDEX STAGE (fit-to-screen)
====================================================== */

body.waylight-utility{
  min-height:100vh;
  overflow:hidden;
  display:grid;
  grid-template-rows:auto 1fr auto;
}

.pt-home-stage{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:1rem;
}

.pt-home-split{
  width:min(1200px, 96vw);
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:1rem;
  align-items:center;
}

@media (max-width: 880px){
  body.waylight-utility{ overflow:auto; }
  .pt-home-split{ grid-template-columns:1fr; }
}

.pt-home-section{
  background:var(--panel-bg);
  border:1px solid var(--rule);
  border-radius:18px;
  padding:1.25rem;
  box-shadow:0 2px 10px rgba(0,0,0,0.06);
}

.pt-home-lead{
  margin:0 0 1rem;
  color:var(--ink-soft);
}

/* Poster */
.wl-hero{
  display:flex;
  justify-content:center;
  margin:0;
}

.wl-hero-image{
  width:auto;
  height:auto;
  max-width:min(520px, 92vw);
  max-height:calc(100vh - 220px); /* header+footer allowance */
  border-radius:10px;
  box-shadow:0 12px 30px rgba(0,0,0,0.25);
}

/* ======================================================
   LOCK OVERLAY
====================================================== */

.pt-lock-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.45);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:1.25rem;
}

.pt-lock-overlay.hidden{ display:none; }

.pt-lock-panel{
  width:min(520px,100%);
  background:var(--panel-bg);
  border:1px solid var(--rule);
  border-radius:18px;
  padding:1.25rem;
  box-shadow:0 8px 30px rgba(0,0,0,0.22);
}

.pt-lock-title{
  font-family:'Libre Baskerville',serif;
  margin:0 0 0.5rem;
}

.pt-lock-text{ margin:0 0 1rem; color:var(--ink-soft); }

.pt-lock-label{ display:block; margin:0 0 0.35rem; }

.pt-lock-input{
  width:100%;
  box-sizing:border-box;
  padding:0.6rem 0.7rem;
  border:1px solid var(--rule);
  border-radius:12px;
  font:inherit;
}

.pt-lock-error{ min-height:1.1rem; margin:0.5rem 0 0.75rem; color:#7b1f1f; }
.pt-lock-note{ margin:0.75rem 0 0; color:var(--ink-soft); }

/* ======================================================
   GRID (console page)
====================================================== */

.pt-shell-main{ padding: 1.25rem; }



.pt-card-grid {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 320px));
  gap: 1.5rem;
  align-items: stretch;
  margin: 0 auto;
  max-width: 100vw;
  justify-content: center;
  justify-items: center;
}

/* Card layout fix: force content wrap, prevent fat cards */
.pt-card {
  background: var(--panel-bg);
  border: 1px solid var(--rule);
  border-radius: 18px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06);
  box-sizing: border-box;
  padding: 1.1rem;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: stretch;
  min-height: 260px;
  height: 100%;
  width: 100%;
  max-width: 100%;
  word-break: break-word;
  overflow-wrap: anywhere;
  margin: 0;
}

.pt-card-title {
  font-family: 'Libre Baskerville', serif;
  margin: 0 0 0.5rem 0;
  color: var(--ink);
  font-size: 1.2rem;
  font-weight: 700;
  min-height: 2.5em;
  display: flex;
  align-items: flex-end;
}

/* Card text fix: wrap and limit width */
.pt-card {
  background: var(--panel-bg);
  border: 1px solid var(--rule);
  border-radius: 18px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06);
  box-sizing: border-box;
  padding: 1.1rem;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: stretch;
  min-height: 260px;
  height: 100%;
  width: 100%;
  max-width: 320px;
  margin: 0;
}
  align-self: stretch;
}


@media (max-width: 1100px) {
  .pt-card-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 700px) {
  .pt-card-grid {
    grid-template-columns: repeat(1, 1fr);
  }
}



/* ======================================================
   CARDS
====================================================== */







/* ======================================================

  /* 1940s UTILITY BUTTONS (ticket ends; always readable) */
  .pt-home-enter,
  .pt-lock-button,
  .pt-card-open,
  .pt-tool-pill,
  .pt-add-link-row-btn {
    border-radius:999px;
    padding:0.45rem 0.9rem;
    border:1px solid var(--rule);
    background:var(--btn-bg);
    color:var(--btn-ink);
    font-family:inherit;
    font-size:0.92rem;
    letter-spacing:0.01em;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,0.75),
      0 1px 2px rgba(0,0,0,0.10);
    transition: box-shadow 0.15s, border-color 0.15s;
  }

  .pt-home-enter:hover,
  .pt-lock-button:hover,
  .pt-card-open {
    border-radius:999px;
    padding:0.45rem 0.6rem;
    border:1px solid var(--rule);
    background:var(--btn-bg);
    color:var(--btn-ink);
    font-family:inherit;
    font-size:0.92rem;
    letter-spacing:0.01em;
    text-decoration:none;
    display:flex;
    align-items:center;
    justify-content:center;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: hidden;
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,0.75),
      0 1px 2px rgba(0,0,0,0.10);
    transition: box-shadow 0.15s, border-color 0.15s;
    white-space: normal;
    overflow-wrap: anywhere;
    word-break: break-word;
  }
    left:-2.2rem;
    top:50%;
    transform:translateY(-50%);
    cursor:grab;
    font-size:1.3rem;
    color:var(--ink-soft);
    background:none;
    border:none;
    padding:0.2rem 0.5rem;
    border-radius:50%;
    transition:background 0.15s;
  }
  .pt-drag-handle:hover {
    background:var(--parchment);
    color:var(--brass);
  }

  /* Add link button at end of tool row */
  .pt-add-link-row-btn {
    margin-left:0.5rem;
    min-width:44px;
    min-height:36px;
  }

/* ======================================================
   FOOTER + BAKELITE CLOCK
====================================================== */

.pt-footer{
  border-top:2px solid var(--rule);
  background:var(--panel-bg);
  width:100%;
  margin:0 auto;
}

.pt-footer-accent{ height:4px; background:var(--brass); }

.pt-footer-shell{
  padding:0.75rem 1rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:1rem;
  width:100%;
  margin:0 auto;
}

.pt-footer-text{ margin:0; color:var(--ink-soft); }

/* Bakelite capsule */
.pt-console-clock{
  display:inline-flex;
  align-items:baseline;
  gap:0.6rem;
  padding:0.35rem 0.85rem;
  border-radius:999px;
  background:rgba(15,43,51,0.94);
  border:1px solid var(--brass);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.10),
    inset 0 -2px 6px rgba(0,0,0,0.28),
    0 2px 10px rgba(0,0,0,0.12);
}

.pt-console-clock #pt-clock-time,
.pt-console-clock #pt-clock-date{
  color:var(--parchment);
  font-variant-numeric:tabular-nums;
  letter-spacing:0.01em;
}

.pt-console-clock #pt-clock-time{ font-weight:700; }
.pt-console-clock #pt-clock-date{ opacity:0.92; font-size:0.92em; }

/* ======================================================
   MODAL (links editor)
====================================================== */

.wl-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.45);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:1rem;
}

.wl-modal.hidden{ display:none; }

.wl-modal-panel{
  width:min(720px, 100%);
  background:var(--panel-bg);
  border:1px solid var(--rule);
  border-radius:18px;
  padding:1rem 1rem 1.25rem;
  box-shadow:0 10px 38px rgba(0,0,0,0.25);
}

.wl-modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
}

.wl-modal-title{
  font-family:'Libre Baskerville',serif;
  margin:0;
}

.wl-modal-close{
  width:42px;
  height:42px;
  border-radius:999px;
  border:1px solid var(--rule);
  background:#ffffff;
  color:var(--ink);
  font-size:1.4rem;
  line-height:1;
  cursor:pointer;
}

.wl-modal-desc{ margin:0.25rem 0 1rem; color:var(--ink-soft); }

.wl-links-row{ display:flex; gap:0.5rem; flex-wrap:wrap; margin:0 0 0.75rem; }

.wl-links-list{
  margin:0;
  padding-left:1.1rem;
  color:var(--ink);
}

.wl-links-list li{ margin:0.35rem 0; }

.wl-links-list a{ color:var(--ink); }
.wl-links-list a:hover{ color:var(--brass); }

/* ======================================================
   ACCESSIBILITY HELPERS
====================================================== */

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* Ensure both shells use the themed background */
body.waylight-utility,
body.pt-console-shell{
  background: var(--bg);
}
